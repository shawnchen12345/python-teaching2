# Day 3 练习题参考答案与详细讲解
# 这些练习旨在巩固流程控制语句：if, for, while

import random
import time

# =========================================================
# 练习 1: if 条件判断 - 判断闰年
# =========================================================
print("--- 练习 1: 判断闰年 ---")

# 设定测试年份
year = 2024

# 【解题思路】
# 闰年的判断规则有两个条件，满足其一即可：
# 1. 能被4整除，且不能被100整除 (例如 2024年，2004年)
# 2. 能被400整除 (例如 2000年)
#
# 在 Python 中：
# - "能被整除" 意味着取余数结果为 0 (year % 4 == 0)
# - "且" 用 and
# - "或" 用 or
# - "不等于" 用 !=

# 代码实现：
if (year % 4 == 0 and year % 100 != 0) or (year % 400 == 0):
    print(f"{year} 是闰年")
else:
    print(f"{year} 不是闰年")

# 补充讲解：
# 1. 括号不是必须的，但能提高代码可读性，明确逻辑优先级。
# 2. 逻辑运算符优先级：not > and > or。如果不加括号，and 会先于 or 执行。

print("\n" + "="*40 + "\n")


# =========================================================
# 练习 2: for 循环 - 打印九九乘法表
# =========================================================
print("--- 练习 2: 九九乘法表 ---")

# 【解题思路】
# 1. 这是一个典型的嵌套循环问题。
# 2. 外层循环控制行数 (i)，从 1 到 9。
# 3. 内层循环控制每行的列数 (j)。题目要求打印"右上三角形"样式的乘法表
#    (即第1行1个，第2行2个...)。所以内层循环范围是 1 到 i。
# 4. print() 函数默认会换行，需要设置 end="\t" (制表符) 来让它们在同一行显示。

# 代码实现：
for i in range(1, 10):          # 外层循环：i = 1, 2, ..., 9
    for j in range(1, i + 1):   # 内层循环：j = 1, 2, ..., i
        # 格式化字符串 f"{j}x{i}={i*j}"
        # end="\t" 表示打印完不换行，而是加一个制表符对齐
        print(f"{j}x{i}={i*j}", end="\t")
    
    # 内层循环结束后（一行打印完毕），需要换行，准备开始打印下一行
    print()

# 补充讲解：
# - range(1, 10) 是左闭右开区间，包含1，不包含10。
# - 制表符 \t 是为了让列对齐，如果不缩进，也可以用 end=" "。

print("\n" + "="*40 + "\n")


# =========================================================
# 练习 3: while 循环 - 猜数字游戏
# =========================================================
print("--- 练习 3: 猜数字游戏 ---")

# 【解题思路】
# 1. 需要先生成一个随机数作为答案。
# 2. 因为不知道用户几次能猜对，所以使用 while 循环。
# 3. 可以使用 while True (无限循环)，在猜对时用 break 跳出。
# 4. 获取用户输入 input()，注意 input 得到的是字符串，需要转换成 int。
# 5. 需要处理用户可能输入非数字的情况 (try-except)，虽然这是进阶内容，但非常实用。

# 代码实现：
secret = random.randint(1, 100) # 生成 1-100 的随机整数
print("系统已生成一个 1-100 之间的数字，请开始猜测！")

count = 0 # 记录猜测次数

while True:
    try:
        user_input = input("请输入你的猜测: ")
        guess = int(user_input) # 尝试将输入转换为整数
        count += 1
        
        if guess == secret:
            print(f"🎉 恭喜你！猜对了！答案就是 {secret}。")
            print(f"你总共猜了 {count} 次。")
            break # 猜对了，退出循环
            
        elif guess < secret:
            print("太小了，再大一点！")
        else:
            print("太大了，再小一点！")
            
    except ValueError:
        # 如果用户输入的不是整数（例如输了 "abc"），int() 会报错，程序会跳到这里
        print("⚠️ 输入无效，请输入一个整数！")

# 补充讲解：
# - random.randint(a, b)包含 endpoint，即可能生成 b。
# - while True 配合 break 是处理"通过特定条件结束循环"的常用模式。
# - input() 函数会暂停程序等待用户输入。

print("\n" + "="*40)
print("所有练习演示完毕")
